(function(d){Drupal.ACDB.prototype.search=function(a){var b=this;this.searchString=a;a=a.replace(/^\s+|\s+$/,"");if(!(0>=a.length||","==a.charAt(a.length-1))){var c="";this.owner.isDependent()&&(c=this.owner.serializeOuterForm());if("undefined"===typeof this.lastData||this.lastData!==c)this.cache={},this.lastData=c;else if(this.cache[a])return this.owner.found(this.cache[a]);this.timer&&clearTimeout(this.timer);this.timer=setTimeout(function(){b.owner.setStatus("begin");d.ajax({type:"GET",url:b.uri+
"/"+Drupal.encodePath(a),data:c,dataType:"json",success:function(c){if("undefined"==typeof c.status||0!=c.status)b.cache[a]=c,b.searchString==a&&b.owner.found(c),b.owner.setStatus("found")},error:function(a){alert(Drupal.ajaxError(a,b.uri))}})},this.delay)}};Drupal.jsAC.prototype.isDependent=function(){return d(this.input).hasClass("views-ac-dependent-filter")};Drupal.jsAC.prototype.serializeOuterForm=function(){var a,b=d(this.input).parents("form:first").find("select[name], textarea[name], input[name][type!=submit]").not(this.input).serializeArray();
if(0===this.input.name.indexOf("exposed[")){var c=[];for(a=0;a<b.length;a++)0===b[a].name.indexOf("exposed[")&&c.push({name:b[a].name.substring(8,b[a].name.length-1),value:b[a].value});b=c}return d.param(b)}})(jQuery);