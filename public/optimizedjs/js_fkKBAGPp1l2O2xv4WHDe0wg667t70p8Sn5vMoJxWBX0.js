(function(a){Drupal.behaviors.panopolyImagesModule={attach:function(d,c){function b(c){c.each(function(){var c=a("img",this);for(var b=0,d=0,f,h=0;h<c.length;h++)f=a(c[h]).attr("width"),f="undefined"!==typeof f?parseInt(f,10):c[h].naturalWidth,f>b&&(b=f,d=e(c[h]));c=b+d;b=e(a(".caption-inner",this))+e(a(".caption-width-container",this));c+=b;a(this).width(c)})}function e(c){for(var b="margin-left border-left padding-left padding-right border-right margin-right".split(" "),d=0,e,f=0;f<b.length;f++)(e=
a(c).css(b[f]))&&"px"==e.substr(e.length-2)&&(e=parseInt(e,10),d+=a.isNumeric(e)?e:0);return d}var g=a(".caption",d).has("img");a(g).once("panopoly-images").imagesLoaded(function(){b(g)})}}})(jQuery);
(function(a){Drupal.behaviors.panopolyAdmin={attach:function(d,c){var b=a("#node-edit #edit-title").width()-a("#node-edit .form-item-path-alias label").width()-a("#node-edit .form-item-path-alias .field-prefix").width()-10;a("#node-edit .form-item-path-alias input").css("width",b);a("#node-edit .panopoly-admin-hide-body-label .form-item-body-und-0-value label",d).once("panopoly-admin-hide-body-label").wrapInner('<span class="element-invisible"></span>').css("text-align","right");a("#node-edit .form-item-field-featured-image-und-0-alt label")&&
a("#node-edit .form-item-field-featured-image-und-0-alt label").html("Alt Text")}};Drupal.behaviors.panopolyAutoUpload={attach:function(d,c){a("#node-edit input#edit-field-featured-image-und-0-upload").next('input[type="submit"]').hide();a("form",d).delegate("#node-edit input#edit-field-featured-image-und-0-upload","change",function(){a(this).next('input[type="submit"]').mousedown()})}};Drupal.behaviors.panopolyLinkAutomaticTitle={attach:function(d){a(".pane-node-form-menu",d).each(function(){var c=
a(".form-item-menu-enabled input",this),b=a(".form-item-menu-link-title input",d),e=a(this).closest("form").find(".form-item-title input");c.length&&b.length&&e.length&&(c.is(":checked")&&b.val().length&&b.data("menuLinkAutomaticTitleOveridden",!0),b.keyup(function(){b.data("menuLinkAutomaticTitleOveridden",!0)}),c.change(function(){c.is(":checked")?b.data("menuLinkAutomaticTitleOveridden")||b.val(e.val()):(b.val(""),b.removeData("menuLinkAutomaticTitleOveridden"));c.closest("fieldset.vertical-tabs-pane").trigger("summaryUpdated");
c.trigger("formUpdated")}),e.keyup(function(){!b.data("menuLinkAutomaticTitleOveridden")&&c.is(":checked")&&(b.val(e.val()),b.val(e.val()).trigger("formUpdated"))}))})}}})(jQuery);
(function(a){Drupal.behaviors.panopolyMagic={attach:function(d,c){a.trim(a(".pane-node-title .pane-content").html())==a.trim(a("h1.title").html())&&(a(".pane-node-title .pane-content").html(""),a("h1.title").hide().clone().prependTo(".pane-node-title .pane-content"),a(".pane-node-title h1.title").show());c.panopoly_magic&&"single"===c.panopoly_magic.pane_add_preview_mode&&c.panopoly_magic.pane_add_preview_subtype&&setTimeout(function(){var b="add-content-link-"+c.panopoly_magic.pane_add_preview_subtype.replace(/_/g,
"-")+"-icon-text-button";a("#modal-content .panopoly-magic-preview-link .content-type-button a."+b,d).focus()},0)}}})(jQuery);
(function(a){function d(c,b){var f=a(c),d=a("#panopoly-form-widget-preview");if(!d.hasClass("panopoly-magic-loading")){d.addClass("panopoly-magic-loading");d=function(){document.contains(c)&&f.find(".ctools-auto-submit-click").click()};if("number"===typeof b)return setTimeout(d,b);d()}}function c(c,b){a(c);a("#panopoly-form-widget-preview").removeClass("panopoly-magic-loading");clearTimeout(b)}function b(b){return function(){var f=a("#"+b),e=f.get(0).form;f.hasClass("panopoly-textarea-autosubmit")&&
(c(e,k),k=d(e,1E3))}}function e(a,c,d){var f=b(c.field);d.setup=function(a){a.onChange.add(f);a.onKeyUp.add(f)}}function g(a,c,b){var f=a[c];a[c]=function(){b.apply(this,arguments);return f.apply(this,arguments)}}function p(a,c,b){var d=a[c];a[c]=function(){var a=d.apply(this,arguments);b.apply(this,arguments);return a}}var k,l=!1,m=!1;Drupal.behaviors.panopolyMagicAutosubmit={attach:function(b,h){a(".ctools-auto-submit-click",b).filter(function(){return 0!==a(this).closest("form").attr("id").indexOf("panels-edit-style-type-form")}).click(function(b){if(a(this).hasClass("ajax-processed"))return b.stopImmediatePropagation(),
a(this).trigger("mousedown"),!1});var f=[16,17,18,20,33,34,35,36,37,38,39,40,9,13,27];a(".field-widget-link-field input:text",b).addClass("panopoly-textfield-autosubmit").addClass("ctools-auto-submit-exclude");a(".panopoly-textfield-autosubmit, .panopoly-textarea-autosubmit",b).once("ctools-auto-submit").bind("keyup blur",function(e){a(".panopoly-magic-preview .pane-title",b);c(e.target.form,k);"blur"!==e.type&&0<a.inArray(e.keyCode,f)||(k=d(e.target.form,1E3))});l||"undefined"==typeof Drupal.wysiwyg||
"function"!=typeof Drupal.wysiwyg.editor.attach.tinymce||"function"!=typeof Drupal.wysiwyg.editor.attach.markitup||(g(Drupal.wysiwyg.editor.attach,"tinymce",e),l=!0,a(".panopoly-textarea-autosubmit",b).once("panopoly-magic-wysiwyg").each(function(){var a=Drupal.wysiwyg.instances[this.id],c=a?a.format:null,d=a?a.trigger:null;a&&"none"!=a.editor&&(params=Drupal.settings.wysiwyg.triggers[d])&&(Drupal.wysiwygDetach(b,params[c]),Drupal.wysiwygAttach(b,params[c]))}));a(".panopoly-autocomplete-autosubmit",
b).once("ctools-auto-submit").bind("keyup blur",function(a){"blur"!==a.type&&13!==a.keyCode||d(a.target.form,0)});a(":input.filter-list").addClass("ctools-auto-submit-exclude");if(!m&&"undefined"!==typeof Drupal.linkit){var n=Drupal.linkit.getDialogHelper("field");"undefined"!==typeof n&&(p(n,"insertLink",function(a){a=document.getElementById(Drupal.settings.linkit.currentInstance.source);d(a.form)}),m=!0)}}}})(jQuery);
(function(a){Drupal.behaviors.PanelsAccordionStyle={attach:function(a,c){for(region_id in Drupal.settings.accordion){var b=Drupal.settings.accordion[region_id];jQuery("#"+region_id).hasClass("ui-accordion")?jQuery("#"+region_id).accordion("refresh"):jQuery("#"+region_id).accordion(b.options)}}}})(jQuery);
(function(a){Drupal.behaviors.siteFarmAdminSidebarCollapse={attach:function(d,c){var b=function(){return JSON.parse(localStorage.getItem("Drupal.siteFarmAdminSidebarCollapse"))||{}};if("undefined"!==typeof c.siteFarm&&"undefined"!==typeof c.siteFarm.adminSidebarCollapse){1==c.siteFarm.adminSidebarCollapse&&a(".radix-layouts-sidebar .panel-pane:not(.pane-node-form-buttons) .pane-content").hide();if(1==c.siteFarm.adminSidebarMemory){var e=b(),g;for(g in e)a("."+g+" .pane-title").addClass("js-"+e[g]),
a("."+g+" .pane-content").css("display",e[g])}a(".radix-layouts-sidebar .pane-title",d).once().click(function(){var d=a(this),e="block";$content=d.next(".pane-content");parentClasses=d.parent().attr("class").split(/\s+/);d.toggleClass("js-block js-hidden");$content.slideToggle("fast",function(){if(1==c.siteFarm.adminSidebarMemory){e=$content.css("display");for(var a=parentClasses,d=e,f=0;f<a.length;f++)if(-1!==a[f].indexOf("pane-node-")){var g=b();g[a[f]]=d;localStorage.setItem("Drupal.siteFarmAdminSidebarCollapse",
JSON.stringify(g))}}})})}}}})(jQuery);(function(a){Drupal.behaviors.sitefarmWysiwygResponsiveIframes={attach:function(d){a(".responsive-iframe",d).once().each(function(){var c=a(this),b=c.data("responsive-iframe");c.css("padding-bottom",b)})}}})(jQuery);