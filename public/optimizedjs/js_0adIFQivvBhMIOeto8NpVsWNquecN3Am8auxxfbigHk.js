/*
 PhotoSwipe - v4.0.5 - 2015-01-15
 http://photoswipe.com
 Copyright (c) 2015 Dmitry Semenov;  PhotoSwipe Default UI - 4.0.5 - 2015-01-15
 http://photoswipe.com
 Copyright (c) 2015 Dmitry Semenov; */
!function(e,k){"function"==typeof define&&define.amd?define(k):"object"==typeof exports?module.exports=k():e.PhotoSwipe=k()}(this,function(){return function(e,k,A,x){var h={features:null,bind:function(a,b,c,g){g=(g?"remove":"add")+"EventListener";b=b.split(" ");for(var d=0;d<b.length;d++)b[d]&&a[g](b[d],c,!1)},isArray:function(a){return a instanceof Array},createEl:function(a,b){var c=document.createElement(b||"div");return a&&(c.className=a),c},getScrollY:function(){var a=window.pageYOffset;return void 0!==
a?a:document.documentElement.scrollTop},unbind:function(a,b,c){h.bind(a,b,c,!0)},removeClass:function(a,b){a.className=a.className.replace(new RegExp("(\\s|^)"+b+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(a,b){h.hasClass(a,b)||(a.className+=(a.className?" ":"")+b)},hasClass:function(a,b){return a.className&&(new RegExp("(^|\\s)"+b+"(\\s|$)")).test(a.className)},getChildByClass:function(a,b){for(var c=a.firstChild;c;){if(h.hasClass(c,b))return c;c=c.nextSibling}},
arraySearch:function(a,b,c){for(var g=a.length;g--;)if(a[g][c]===b)return g;return-1},extend:function(a,b,c){for(var g in b)!b.hasOwnProperty(g)||c&&a.hasOwnProperty(g)||(a[g]=b[g])},easing:{sine:{out:function(a){return Math.sin(Math.PI/2*a)},inOut:function(a){return-(Math.cos(Math.PI*a)-1)/2}},cubic:{out:function(a){return--a*a*a+1}}},detectFeatures:function(){if(h.features)return h.features;var a=h.createEl().style,b="",c={};if(c.oldIE=document.all&&!document.addEventListener,c.touch="ontouchstart"in
window,window.requestAnimationFrame&&(c.raf=window.requestAnimationFrame,c.caf=window.cancelAnimationFrame),c.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!c.pointerEvent){b=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var g=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);g&&0<g.length&&(g=parseInt(g[1],10),1<=g&&8>g&&(c.isOldIOSPhone=!0))}g=(g=b.match(/Android\s([0-9\.]*)/))?g[1]:0;g=parseFloat(g);1<=g&&(4.4>g&&(c.isOldAndroid=!0),c.androidVersion=g);c.isMobileOpera=
/opera mini|opera mobi/i.test(b)}for(var d,f=["transform","perspective","animationName"],e=["","webkit","Moz","ms","O"],l=0;4>l;l++){b=e[l];for(var k=0;3>k;k++)g=f[k],d=b+(b?g.charAt(0).toUpperCase()+g.slice(1):g),!c[g]&&d in a&&(c[g]=d);b&&!c.raf&&(b=b.toLowerCase(),c.raf=window[b+"RequestAnimationFrame"],c.raf&&(c.caf=window[b+"CancelAnimationFrame"]||window[b+"CancelRequestAnimationFrame"]))}if(!c.raf){var v=0;c.raf=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-v)),g=window.setTimeout(function(){a(b+
c)},c);return v=b+c,g};c.caf=function(a){clearTimeout(a)}}return c.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h.features=c,c}};h.detectFeatures();h.features.oldIE&&(h.bind=function(a,b,c,g){b=b.split(" ");for(var d,f=(g?"detach":"attach")+"Event",e=function(){c.handleEvent.call(c)},h=0;h<b.length;h++)if(d=b[h])if("object"==typeof c&&c.handleEvent){if(g){if(!c["oldIE"+d])return!1}else c["oldIE"+d]=e;a[f]("on"+d,c["oldIE"+d])}else a[f]("on"+
d,c)});var d=this,m={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(a){return"A"===a.tagName},getDoubleTapZoom:function(a,b){return a?1:.7>b.initialZoomLevel?1:1.5},maxSpreadZoom:2,scaleMode:"fit",modal:!0,alwaysFadeIn:!1};h.extend(m,x);var Y,N,Pa,n,z,O,
ka,xa,B,l,P,la,ma,q,ya,Q,G,y,Za,R,za,na,Z,oa,da,H,pa,Aa,$a,Ba,qa,Ca,u,nb,ea,Da,f,v,ra,fa,Ab,Ea,Qa,ob,Fa,S,ha,Vb,r,ia,I,Ga,Bb,pb,qb,rb,sb,sa=function(){return{x:0,y:0}},W=sa(),Ra=sa(),p=sa(),J={},Ha=0,T=sa(),X=0,tb=!0,Cb=[],ab={},bb=function(a,b){h.extend(d,b.publicMethods);Cb.push(a)},ub=function(a){var b=U();return a>b-1?a-b:0>a?b+a:a},cb={},w=function(a,b){return cb[a]||(cb[a]=[]),cb[a].push(b)},t=function(a){var b=cb[a];if(b){var c=Array.prototype.slice.call(arguments);c.shift();for(var g=0;g<
b.length;g++)b[g].apply(d,c)}},aa=function(){return(new Date).getTime()},ja=function(a){qb=a;d.bg.style.opacity=a*m.bgOpacity},C=function(){ia&&(ia[oa]=la+p.x+"px, "+p.y+"px"+ma+" scale("+l+")")},db=function(a){a.container&&(a.container.style[oa]=la+a.initialPosition.x+"px, "+a.initialPosition.y+"px"+ma+" scale("+a.initialZoomLevel+")")},Sa=function(a,b){b[oa]=la+a+"px, 0px"+ma},vb=function(a,b){if(!m.loop&&b){var c=n+(T.x*Ha-a)/T.x,g=Math.round(a-ta.x);(0>c&&0<g||c>=U()-1&&0>g)&&(a=ta.x+g*m.mainScrollEndFriction)}ta.x=
a;Sa(a,z)},Db=function(a,b){var c=eb[a]-Q[a];return Ra[a]+W[a]+c-b/P*c},K=function(a,b){a.x=b.x;a.y=b.y;b.id&&(a.id=b.id)},Wb=function(a){a.x=Math.round(a.x);a.y=Math.round(a.y)},Eb=null,Fb=function(){Eb&&(h.unbind(document,"mousemove",Fb),h.addClass(e,"pswp--has_mouse"),m.mouseUsed=!0,t("mouseUsed"));Eb=setTimeout(function(){Eb=null},100)},Gb=function(a,b){var c=fb(d.currItem,J,a);return b&&(r=c),c},Xb=function(a){return a||(a=d.currItem),a.initialZoomLevel},Yb=function(a){return a||(a=d.currItem),
0<a.w?m.maxSpreadZoom:1},Zb=function(a,b,c,g){return g===d.currItem.initialZoomLevel?(c[a]=d.currItem.initialPosition[a],!0):(c[a]=Db(a,g),c[a]>b.min[a]?(c[a]=b.min[a],!0):c[a]<b.max[a]?(c[a]=b.max[a],!0):!1)},oc=function(){if(oa)return la="translate"+(u.perspective&&!H?"3d(":"("),void(ma=u.perspective?", 0px)":")");oa="left";h.addClass(e,"pswp--ie");Sa=function(a,b){b.left=a+"px"};db=function(a){var b=a.container.style,c=a.fitRatio*a.h;b.width=a.fitRatio*a.w+"px";b.height=c+"px";b.left=a.initialPosition.x+
"px";b.top=a.initialPosition.y+"px"};C=function(){if(ia){var a=ia,b=d.currItem,c=b.fitRatio*b.h;a.width=b.fitRatio*b.w+"px";a.height=c+"px";a.left=p.x+"px";a.top=p.y+"px"}}},pc=function(a){var b="";m.escKey&&27===a.keyCode?b="close":m.arrowKeys&&(37===a.keyCode?b="prev":39===a.keyCode&&(b="next"));b&&(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey||(a.preventDefault?a.preventDefault():a.returnValue=!1,d[b]()))},qc=function(a){a&&(Qa||Ea||I||v)&&(a.preventDefault(),a.stopPropagation())},rc=function(){G=
!0;m.closeOnScroll&&Y&&(!d.likelyTouchDevice||m.mouseUsed)&&2<Math.abs(h.getScrollY()-Ba)&&(Pa=!0,d.close())},M={},gb=0,hb=function(a){M[a]&&(M[a].raf&&Aa(M[a].raf),gb--,delete M[a])},Hb=function(a){M[a]&&hb(a);M[a]||(gb++,M[a]={})},ib=function(){for(var a in M)M.hasOwnProperty(a)&&hb(a)},jb=function(a,b,c,g,d,f,e){var h,l=aa();Hb(a);var k=function(){if(M[a]){if(h=aa()-l,h>=g)return hb(a),f(c),void(e&&e());f((c-b)*d(h/g)+b);M[a].raf=pa(k)}};k()},sc={shout:t,listen:w,viewportSize:J,options:m,isMainScrollAnimating:function(){return I},
getZoomLevel:function(){return l},getCurrentIndex:function(){return n},isDragging:function(){return fa},isZooming:function(){return ha},applyZoomPan:function(a,b,c){p.x=b;p.y=c;l=a;C()},init:function(){if(!Y&&!N){d.framework=h;d.template=e;d.bg=h.getChildByClass(e,"pswp__bg");$a=e.className;Y=!0;u=h.detectFeatures();pa=u.raf;Aa=u.caf;oa=u.transform;qa=u.oldIE;d.scrollWrap=h.getChildByClass(e,"pswp__scroll-wrap");d.container=h.getChildByClass(d.scrollWrap,"pswp__container");z=d.container.style;d.itemHolders=
y=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}];y[0].el.style.display=y[2].el.style.display="none";oc();B={resize:d.updateSize,scroll:rc,keydown:pc,click:qc};var a=u.isOldIOSPhone||u.isOldAndroid||u.isMobileOpera;u.animationName&&u.transform&&!a||(m.showAnimationDuration=m.hideAnimationDuration=0);for(a=0;a<Cb.length;a++)d["init"+Cb[a]]();k&&(d.ui=new k(d,h)).init();t("firstUpdate");n=n||m.index||0;(isNaN(n)||
0>n||n>=U())&&(n=0);d.currItem=Ia(n);(u.isOldIOSPhone||u.isOldAndroid)&&(tb=!1);m.modal&&(e.setAttribute("aria-hidden","false"),tb?e.style.position="fixed":(e.style.position="absolute",e.style.top=h.getScrollY()+"px"));void 0===Ca&&(t("initialLayout"),Ca=Ba=h.getScrollY());a="pswp--open ";m.mainClass&&(a+=m.mainClass+" ");m.showHideOpacity&&(a+="pswp--animate_opacity ");a+=H?"pswp--touch":"pswp--notouch";a+=u.animationName?" pswp--css_animation":"";a+=u.svg?" pswp--svg":"";h.addClass(e,a);d.updateSize();
O=-1;X=null;for(a=0;3>a;a++)Sa((a+O)*T.x,y[a].el.style);qa||h.bind(d.scrollWrap,xa,d);w("initialZoomInEnd",function(){d.setContent(y[0],n-1);d.setContent(y[2],n+1);y[0].el.style.display=y[2].el.style.display="block";m.focus&&e.focus();h.bind(document,"keydown",d);u.transform&&h.bind(d.scrollWrap,"click",d);m.mouseUsed||h.bind(document,"mousemove",Fb);h.bind(window,"resize scroll",d);t("bindEvents")});d.setContent(y[1],n);d.updateCurrItem();t("afterInit");tb||(q=setInterval(function(){gb||fa||ha||
l!==d.currItem.initialZoomLevel||d.updateSize()},1E3));h.addClass(e,"pswp--visible")}},close:function(){Y&&(Y=!1,N=!0,t("close"),h.unbind(window,"resize",d),h.unbind(window,"scroll",B.scroll),h.unbind(document,"keydown",d),h.unbind(document,"mousemove",Fb),u.transform&&h.unbind(d.scrollWrap,"click",d),fa&&h.unbind(window,ka,d),t("unbindEvents"),$b(d.currItem,null,!0,d.destroy))},destroy:function(){t("destroy");Ja&&clearTimeout(Ja);m.modal&&(e.setAttribute("aria-hidden","true"),e.className=$a);q&&
clearInterval(q);h.unbind(d.scrollWrap,xa,d);h.unbind(window,"scroll",d);Ib();ib();cb=null},panTo:function(a,b,c){c||(a>r.min.x?a=r.min.x:a<r.max.x&&(a=r.max.x),b>r.min.y?b=r.min.y:b<r.max.y&&(b=r.max.y));p.x=a;p.y=b;C()},handleEvent:function(a){a=a||window.event;B[a.type]&&B[a.type](a)},goTo:function(a){a=ub(a);var b=a-n;X=b;n=a;d.currItem=Ia(n);Ha-=b;vb(T.x*Ha);ib();I=!1;d.updateCurrItem()},next:function(){d.goTo(n+1)},prev:function(){d.goTo(n-1)},updateCurrZoomItem:function(a){if(a&&t("beforeChange",
0),y[1].el.children.length){var b=y[1].el.children[0];ia=h.hasClass(b,"pswp__zoom-wrap")?b.style:null}else ia=null;r=d.currItem.bounds;P=l=d.currItem.initialZoomLevel;p.x=r.center.x;p.y=r.center.y;a&&t("afterChange")},invalidateCurrItems:function(){ya=!0;for(var a=0;3>a;a++)y[a].item&&(y[a].item.needsUpdate=!0)},updateCurrItem:function(a){if(0!==X){var b,c=Math.abs(X);if(!(a&&2>c)){d.currItem=Ia(n);t("beforeChange",X);3<=c&&(O+=X+(0<X?-3:3),c=3);for(a=0;c>a;a++)0<X?(b=y.shift(),y[2]=b,O++,Sa((O+2)*
T.x,b.el.style),d.setContent(b,n-c+a+1+1)):(b=y.pop(),y.unshift(b),O--,Sa(O*T.x,b.el.style),d.setContent(b,n+c-a-1-1));ia&&1===Math.abs(X)&&(b=Ia(Za),b.initialZoomLevel!==l&&(fb(b,J),db(b)));X=0;d.updateCurrZoomItem();Za=n;t("afterChange")}}},updateSize:function(a){if(!tb){var b=h.getScrollY();if(Ca!==b&&(e.style.top=b+"px",Ca=b),!a&&ab.x===window.innerWidth&&ab.y===window.innerHeight)return;ab.x=window.innerWidth;ab.y=window.innerHeight;e.style.height=ab.y+"px"}if(J.x=d.scrollWrap.clientWidth,J.y=
d.scrollWrap.clientHeight,Q={x:0,y:Ca},T.x=J.x+Math.round(J.x*m.spacing),T.y=J.y,vb(T.x*Ha),t("beforeResize"),void 0!==O){for(var c,g=0;3>g;g++)a=y[g],Sa((g+O)*T.x,a.el.style),c=ub(n+g-1),b=Ia(c),ya||b.needsUpdate||!b.bounds?(b&&d.cleanSlide(b),d.setContent(a,c),1===g&&(d.currItem=b,d.updateCurrZoomItem(!0)),b.needsUpdate=!1):-1===a.index&&0<=c&&d.setContent(a,c),b&&b.container&&(fb(b,J),db(b));ya=!1}P=l=d.currItem.initialZoomLevel;(r=d.currItem.bounds)&&(p.x=r.center.x,p.y=r.center.y,C());t("resize")},
zoomTo:function(a,b,c,g,d){b&&(P=l,eb.x=Math.abs(b.x)-p.x,eb.y=Math.abs(b.y)-p.y,K(Ra,p));b=Gb(a,!1);var f={};Zb("x",b,f,a);Zb("y",b,f,a);var e=l,k=p.x,v=p.y;Wb(f);b=function(b){1===b?(l=a,p.x=f.x,p.y=f.y):(l=(a-e)*b+e,p.x=(f.x-k)*b+k,p.y=(f.y-v)*b+v);d&&d(b);C()};c?jb("customZoomTo",0,1,c,g||h.easing.sine.inOut,b):b(1)}},D={},ba={},E={},L={},Ta={},ua=[],Ka={},La=[],Jb,Kb,wb=0,kb=sa(),Lb=0,ta=sa(),eb=sa(),Ma=sa(),ac=function(a,b){return Jb=Math.abs(a.x-b.x),Kb=Math.abs(a.y-b.y),Math.sqrt(Jb*Jb+Kb*
Kb)},Ib=function(){ob&&(Aa(ob),ob=null)},bc=function(){if(fa&&(ob=pa(bc),S)){var a=S.length;if(0!==a)if(K(D,S[0]),E.x=D.x-L.x,E.y=D.y-L.y,ha&&1<a){L.x=D.x;L.y=D.y;if(a=!E.x&&!E.y)a=S[1],a=a.x===ba.x&&a.y===ba.y;if(!a){K(ba,S[1]);Ea||(Ea=!0,t("zoomGestureStarted"));a=ac(D,ba);a=1/Vb*a*P;a>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(rb=!0);var b=1,c=Xb(),g=Yb();c>a?m.pinchToClose&&!rb&&P<=d.currItem.initialZoomLevel?(b=1-(c-a)/(c/1.2),ja(b),t("onPinchClose",b),pb=!0):(b=(c-a)/c,1<b&&
(b=1),a=c-c/3*b):a>g&&(b=(a-g)/(6*c),1<b&&(b=1),a=g+b*c);kb.x=.5*(D.x+ba.x);kb.y=.5*(D.y+ba.y);W.x+=kb.x-Ma.x;W.y+=kb.y-Ma.y;K(Ma,kb);p.x=Db("x",a);p.y=Db("y",a);f=a>l;l=a;C()}}else Ga&&(Bb&&(Bb=!1,10<=Math.abs(E.x)&&(E.x-=S[0].x-Ta.x),10<=Math.abs(E.y)&&(E.y-=S[0].y-Ta.y)),L.x=D.x,L.y=D.y,0!==E.x||0!==E.y)&&("v"===Ga&&m.closeOnVerticalDrag&&"fit"===m.scaleMode&&l===d.currItem.initialZoomLevel?(W.y+=E.y,p.y+=E.y,a=cc(),v=!0,t("onVerticalDrag",a),ja(a),C()):(a=aa(),b=D.x,c=D.y,50<a-ea&&(g=2<La.length?
La.shift():{},g.x=b,g.y=c,La.push(g),ea=a),Qa=!0,r=d.currItem.bounds,dc("x",E)||(dc("y",E),Wb(p),C())))}},ec=function(a,b){return a?a.className&&-1<a.className.indexOf("pswp__scroll-wrap")?!1:b(a)?a:ec(a.parentNode,b):!1},Mb={},fc=function(a,b){return Mb.prevent=!ec(a.target,m.isClickableElement),t("preventDragEvent",a,b,Mb),Mb.prevent},gc=function(a,b){return b.x=a.pageX,b.y=a.pageY,b.id=a.identifier,b},cc=function(){return 1-Math.abs((p.y-d.currItem.initialPosition.y)/(J.y/2))},lb={},tc={},va=[],
Nb=function(a){for(;0<va.length;)va.pop();return da?(sb=0,ua.forEach(function(a){0===sb?va[0]=a:1===sb&&(va[1]=a);sb++})):-1<a.type.indexOf("touch")?a.touches&&0<a.touches.length&&(va[0]=gc(a.touches[0],lb),1<a.touches.length&&(va[1]=gc(a.touches[1],tc))):(lb.x=a.pageX,lb.y=a.pageY,lb.id="",va[0]=lb),va},dc=function(a,b){var c,g,f,e,h=p[a]+b[a],k=0<b[a],v=ta.x+b.x,n=ta.x-Ka.x;return c=h>r.min[a]||h<r.max[a]?m.panEndFriction:1,h=p[a]+b[a]*c,!m.allowPanToNext&&l!==d.currItem.initialZoomLevel||(ia?"h"!==
Ga||"x"!==a||Ea||(k?(h>r.min[a]&&(c=m.panEndFriction,g=r.min[a]-Ra[a]),(0>=g||0>n)&&1<U()?(e=v,0>n&&v>Ka.x&&(e=Ka.x)):r.min.x!==r.max.x&&(f=h)):(h<r.max[a]&&(c=m.panEndFriction,g=Ra[a]-r.max[a]),(0>=g||0<n)&&1<U()?(e=v,0<n&&v<Ka.x&&(e=Ka.x)):r.min.x!==r.max.x&&(f=h))):e=v,"x"!==a)?void(I||Fa||l>d.currItem.fitRatio&&(p[a]+=b[a]*c)):(void 0!==e&&(vb(e,!0),Fa=e===Ka.x?!1:!0),r.min.x!==r.max.x&&(void 0!==f?p.x=f:Fa||(p.x+=b.x*c)),void 0!==e)},uc=function(a){if(!("mousedown"===a.type&&0<a.button)){if(Ua)return void a.preventDefault();
if(!ra||"mousedown"!==a.type){if(fc(a,!0)&&a.preventDefault(),t("pointerDown"),da){var b=h.arraySearch(ua,a.pointerId,"id");0>b&&(b=ua.length);ua[b]={x:a.pageX,y:a.pageY,id:a.pointerId}}a=Nb(a);b=a.length;S=null;ib();fa&&1!==b||(fa=Bb=!0,h.bind(window,ka,d),f=rb=pb=v=Fa=Qa=Ab=Ea=!1,Ga=null,t("firstTouchStart",a),K(Ra,p),W.x=W.y=0,K(L,a[0]),K(Ta,L),Ka.x=T.x*Ha,La=[{x:L.x,y:L.y}],ea=nb=aa(),Gb(l,!0),Ib(),bc());!ha&&1<b&&!I&&!Fa&&(P=l,Ea=!1,ha=Ab=!0,W.y=W.x=0,K(Ra,p),K(D,a[0]),K(ba,a[1]),Ma.x=.5*(D.x+
ba.x),Ma.y=.5*(D.y+ba.y),eb.x=Math.abs(Ma.x)-p.x,eb.y=Math.abs(Ma.y)-p.y,Vb=ac(D,ba))}}},vc=function(a){if(a.preventDefault(),da){var b=h.arraySearch(ua,a.pointerId,"id");-1<b&&(b=ua[b],b.x=a.pageX,b.y=a.pageY)}fa&&(a=Nb(a),Ga||Qa||ha?S=a:(b=Math.abs(a[0].x-L.x)-Math.abs(a[0].y-L.y),10<=Math.abs(b)&&(Ga=0<b?"h":"v",S=a)))},Ac=function(a){if(u.isOldAndroid){if(ra&&"mouseup"===a.type)return;-1<a.type.indexOf("touch")&&(clearTimeout(ra),ra=setTimeout(function(){ra=0},600))}t("pointerUp");fc(a,!1)&&a.preventDefault();
var b;if(da){var c=h.arraySearch(ua,a.pointerId,"id");-1<c&&((b=ua.splice(c,1)[0],navigator.pointerEnabled)?b.type=a.pointerType||"mouse":(b.type={4:"mouse",2:"touch",3:"pen"}[a.pointerType],b.type||(b.type=a.pointerType||"mouse")))}var g=Nb(a);c=g.length;if("mouseup"===a.type&&(c=0),2===c)return S=null,!0;1===c&&K(Ta,g[0]);0!==c||Ga||I||(b||("mouseup"===a.type?b={x:a.pageX,y:a.pageY,type:"mouse"}:a.changedTouches&&a.changedTouches[0]&&(b={x:a.changedTouches[0].pageX,y:a.changedTouches[0].pageY,type:"touch"})),
t("touchRelease",a,b));b=-1;if(0===c&&(fa=!1,h.unbind(window,ka,d),Ib(),ha?b=0:-1!==Lb&&(b=aa()-Lb)),Lb=1===c?aa():-1,a=-1!==b&&150>b?"zoom":"swipe",ha&&2>c&&(ha=!1,1===c&&(a="zoomPointerUp"),t("zoomGestureEnded")),S=null,Qa||Ea||I||v)if(ib(),Da||(Da=wc()),Da.calculateSwipeSpeed("x"),v)if(.6>cc())d.close();else{var f=p.y,e=qb;jb("verticalDrag",0,1,300,h.easing.cubic.out,function(a){p.y=(d.currItem.initialPosition.y-f)*a+f;ja((1-e)*a+e);C()});t("onVerticalDrag",1)}else{if((Fa||I)&&0===c){if(xc(a,Da))return;
a="zoomPointerUp"}if(!I)return"swipe"!==a?void yc():void(!Fa&&l>d.currItem.fitRatio&&zc(Da))}},wc=function(){var a,b,c={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(g){1<La.length?(a=aa()-ea+50,b=La[La.length-2][g]):(a=aa()-nb,b=Ta[g]);c.lastFlickOffset[g]=L[g]-b;c.lastFlickDist[g]=Math.abs(c.lastFlickOffset[g]);
c.lastFlickSpeed[g]=20<c.lastFlickDist[g]?c.lastFlickOffset[g]/a:0;.1>Math.abs(c.lastFlickSpeed[g])&&(c.lastFlickSpeed[g]=0);c.slowDownRatio[g]=.95;c.slowDownRatioReverse[g]=1-c.slowDownRatio[g];c.speedDecelerationRatio[g]=1},calculateOverBoundsAnimOffset:function(a,b){c.backAnimStarted[a]||(p[a]>r.min[a]?c.backAnimDestination[a]=r.min[a]:p[a]<r.max[a]&&(c.backAnimDestination[a]=r.max[a]),void 0!==c.backAnimDestination[a]&&(c.slowDownRatio[a]=.7,c.slowDownRatioReverse[a]=1-c.slowDownRatio[a],.05>
c.speedDecelerationRatioAbs[a]&&(c.lastFlickSpeed[a]=0,c.backAnimStarted[a]=!0,jb("bounceZoomPan"+a,p[a],c.backAnimDestination[a],b||300,h.easing.sine.out,function(b){p[a]=b;C()}))))},calculateAnimOffset:function(a){c.backAnimStarted[a]||(c.speedDecelerationRatio[a]*=c.slowDownRatio[a]+c.slowDownRatioReverse[a]-c.slowDownRatioReverse[a]*c.timeDiff/10,c.speedDecelerationRatioAbs[a]=Math.abs(c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]),c.distanceOffset[a]=c.lastFlickSpeed[a]*c.speedDecelerationRatio[a]*
c.timeDiff,p[a]+=c.distanceOffset[a])},panAnimLoop:function(){return M.zoomPan&&(M.zoomPan.raf=pa(c.panAnimLoop),c.now=aa(),c.timeDiff=c.now-c.lastNow,c.lastNow=c.now,c.calculateAnimOffset("x"),c.calculateAnimOffset("y"),C(),c.calculateOverBoundsAnimOffset("x"),c.calculateOverBoundsAnimOffset("y"),.05>c.speedDecelerationRatioAbs.x&&.05>c.speedDecelerationRatioAbs.y)?(p.x=Math.round(p.x),p.y=Math.round(p.y),C(),void hb("zoomPan")):void 0}};return c},zc=function(a){return a.calculateSwipeSpeed("y"),
r=d.currItem.bounds,a.backAnimDestination={},a.backAnimStarted={},.05>=Math.abs(a.lastFlickSpeed.x)&&.05>=Math.abs(a.lastFlickSpeed.y)?(a.speedDecelerationRatioAbs.x=a.speedDecelerationRatioAbs.y=0,a.calculateOverBoundsAnimOffset("x"),a.calculateOverBoundsAnimOffset("y"),!0):(Hb("zoomPan"),a.lastNow=aa(),void a.panAnimLoop())},xc=function(a,b){var c;I||(wb=n);var g;if("swipe"===a){var f=L.x-Ta.x,e=10>b.lastFlickDist.x;30<f&&(e||20<b.lastFlickOffset.x)?g=-1:-30>f&&(e||-20>b.lastFlickOffset.x)&&(g=
1)}var l;g&&(n+=g,0>n?(n=m.loop?U()-1:0,l=!0):n>=U()&&(n=m.loop?0:U()-1,l=!0),(!l||m.loop)&&(X+=g,Ha-=g,c=!0));var k;g=T.x*Ha;f=Math.abs(g-ta.x);return c||g>ta.x==0<b.lastFlickSpeed.x?(k=0<Math.abs(b.lastFlickSpeed.x)?f/Math.abs(b.lastFlickSpeed.x):333,k=Math.min(k,400),k=Math.max(k,250)):k=333,wb===n&&(c=!1),I=!0,jb("mainScroll",ta.x,g,k,h.easing.cubic.out,vb,function(){ib();I=!1;wb=-1;(c||wb!==n)&&d.updateCurrItem();t("mainScrollAnimComplete")}),c&&d.updateCurrItem(!0),c},yc=function(){var a=l,
b=Xb(),c=Yb();b>l?a=b:l>c&&(a=c);var g,e=qb;return pb&&!f&&!rb&&b>l?(d.close(),!0):(pb&&(g=function(a){ja((1-e)*a+e)}),d.zoomTo(a,0,300,h.easing.cubic.out,g),!0)};bb("Gestures",{publicMethods:{initGestures:function(){var a=function(a,c,d,f,e){R=a+c;za=a+d;na=a+f;Z=e?a+e:""};(da=u.pointerEvent)&&u.touch&&(u.touch=!1);da?navigator.pointerEnabled?a("pointer","down","move","up","cancel"):a("MSPointer","Down","Move","Up","Cancel"):u.touch?(a("touch","start","move","end","cancel"),H=!0):a("mouse","down",
"move","up");ka=za+" "+na+" "+Z;xa=R;da&&!H&&(H=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints);d.likelyTouchDevice=H;B[R]=uc;B[za]=vc;B[na]=Ac;Z&&(B[Z]=B[na]);u.touch&&(xa+=" mousedown",ka+=" mousemove mouseup",B.mousedown=B[R],B.mousemove=B[za],B.mouseup=B[na]);H||(m.allowPanToNext=!1)}}});var Ja,Va,Ob,Ua,Ia,U,$b=function(a,b,c,f){Ja&&clearTimeout(Ja);Ob=Ua=!0;var g;a.initialLayout?(g=a.initialLayout,a.initialLayout=null):g=m.getThumbBoundsFn&&m.getThumbBoundsFn(n);var k=c?m.hideAnimationDuration:
m.showAnimationDuration,v=function(){hb("initialZoom");c?(d.template.removeAttribute("style"),d.bg.removeAttribute("style")):(ja(1),b&&(b.style.display="block"),h.addClass(e,"pswp--animated-in"),t("initialZoom"+(c?"OutEnd":"InEnd")));f&&f();Ua=!1};k&&g&&void 0!==g.x?function(){var b=Pa,f=!d.currItem.src||d.currItem.loadError||m.showHideOpacity;a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden");c||(l=g.w/a.w,p.x=g.x,p.y=g.y-Ba,d[f?"template":"bg"].style.opacity=.001,C());Hb("initialZoom");
c&&!b&&h.removeClass(e,"pswp--animated-in");f&&(c?h[(b?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){h.addClass(e,"pswp--animate_opacity")},30));Ja=setTimeout(function(){if(t("initialZoom"+(c?"Out":"In")),c){var d=g.w/a.w,m=p.x,n=p.y,q=l,r=Ba,u=qb,ra=function(a){G&&(r=h.getScrollY(),G=!1);1===a?(l=d,p.x=g.x,p.y=g.y-r):(l=(d-q)*a+q,p.x=(g.x-m)*a+m,p.y=(g.y-r-n)*a+n);C();f?e.style.opacity=1-a:ja(u-a*u)};b?jb("initialZoom",0,1,k,h.easing.cubic.out,ra,v):(ra(1),Ja=setTimeout(v,
k+20))}else l=a.initialZoomLevel,K(p,a.initialPosition),C(),ja(1),f?e.style.opacity=1:ja(1),Ja=setTimeout(v,k+20)},c?25:90)}():(t("initialZoom"+(c?"Out":"In")),l=a.initialZoomLevel,K(p,a.initialPosition),C(),e.style.opacity=c?0:1,ja(1),v())},Wa,Xa,Na=[],Bc={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Va.length}},hc=function(){return{center:{x:0,y:0},
max:{x:0,y:0},min:{x:0,y:0}}},fb=function(a,b,c){if(a.src&&!a.loadError){var d=!c;if(d&&(a.vGap||(a.vGap={top:0,bottom:0}),t("parseVerticalMargin",a)),Wa=b.x,Xa=b.y-a.vGap.top-a.vGap.bottom,d){b=Wa/a.w;var f=Xa/a.h;a.fitRatio=f>b?b:f;b=m.scaleMode;"orig"===b?c=1:"fit"===b&&(c=a.fitRatio);1<c&&(c=1);a.initialZoomLevel=c;a.bounds||(a.bounds=hc())}if(!c)return;b=a.w*c;f=a.h*c;var e=a.bounds;e.center.x=Math.round((Wa-b)/2);e.center.y=Math.round((Xa-f)/2)+a.vGap.top;e.max.x=b>Wa?Math.round(Wa-b):e.center.x;
e.max.y=f>Xa?Math.round(Xa-f)+a.vGap.top:e.center.y;e.min.x=b>Wa?0:e.center.x;e.min.y=f>Xa?a.vGap.top:e.center.y;return d&&c===a.initialZoomLevel&&(a.initialPosition=a.bounds.center),a.bounds}return a.w=a.h=0,a.initialZoomLevel=a.fitRatio=1,a.bounds=hc(),a.initialPosition=a.bounds.center,a.bounds},xb=function(a,b,c,f,e,h){if(!b.loadError){var g,k=d.isDragging()&&!d.isZooming();a=a===n||d.isMainScrollAnimating()||k;!e&&(H||m.alwaysFadeIn)&&a&&(g=!0);f&&(g&&(f.style.opacity=0),b.imageAppended=!0,c.appendChild(f),
g&&setTimeout(function(){f.style.opacity=1;h&&setTimeout(function(){b&&b.loaded&&b.placeholder&&(b.placeholder.style.display="none",b.placeholder=null)},500)},50))}},ic=function(a){a.loading=!0;a.loaded=!1;var b=a.img=h.createEl("pswp__img","img"),c=function(){a.loading=!1;a.loaded=!0;a.loadComplete?a.loadComplete(a):a.img=null;b=b.onload=b.onerror=null};return b.onload=c,b.onerror=function(){a.loadError=!0;c()},b.src=a.src,b},jc=function(a,b){return a.src&&a.loadError&&a.container?(b&&(a.container.innerHTML=
""),a.container.innerHTML=m.errorMsg.replace("%url%",a.src),!0):void 0},kc=function(){if(Na.length){for(var a,b=0;b<Na.length;b++)a=Na[b],a.holder.index===a.index&&xb(a.index,a.item,a.baseDiv,a.img);Na=[]}};bb("Controller",{publicMethods:{lazyLoadItem:function(a){a=ub(a);var b=Ia(a);b&&b.src&&!b.loaded&&!b.loading&&(t("gettingData",a,b),ic(b))},initController:function(){h.extend(m,Bc,!0);d.items=Va=A;Ia=d.getItemAt;U=m.getNumItemsFn;3>U()&&(m.loop=!1);w("beforeChange",function(a){var b=m.preload;
a=null===a?!0:0<a;var c=Math.min(b[0],U()),f=Math.min(b[1],U());for(b=1;(a?f:c)>=b;b++)d.lazyLoadItem(n+b);for(b=1;(a?c:f)>=b;b++)d.lazyLoadItem(n-b)});w("initialLayout",function(){d.currItem.initialLayout=m.getThumbBoundsFn&&m.getThumbBoundsFn(n)});w("mainScrollAnimComplete",kc);w("initialZoomInEnd",kc);w("destroy",function(){for(var a,b=0;b<Va.length;b++)a=Va[b],a.container&&(a.container=null),a.placeholder&&(a.placeholder=null),a.img&&(a.img=null),a.preloader&&(a.preloader=null),a.loadError&&(a.loaded=
a.loadError=!1);Na=null})},getItemAt:function(a){return 0<=a&&void 0!==Va[a]?Va[a]:!1},allowProgressiveImg:function(){return m.forceProgressiveLoading||!H||m.mouseUsed||1200<screen.width},setContent:function(a,b){m.loop&&(b=ub(b));var c=d.getItemAt(a.index);c&&(c.container=null);var f;c=d.getItemAt(b);if(!c)return void(a.el.innerHTML="");t("gettingData",b,c);a.index=b;a.item=c;var e=c.container=h.createEl("pswp__zoom-wrap");if(!c.src&&c.html&&(c.html.tagName?e.appendChild(c.html):e.innerHTML=c.html),
jc(c),!c.src||c.loadError||c.loaded)c.src&&!c.loadError&&(f=h.createEl("pswp__img","img"),f.style.webkitBackfaceVisibility="hidden",f.style.opacity=1,f.src=c.src,xb(b,c,e,f,!0));else{if(c.loadComplete=function(c){if(Y){if(c.img.style.webkitBackfaceVisibility="hidden",a&&a.index===b){if(jc(c,!0))return c.loadComplete=c.img=null,fb(c,J),db(c),void(a.index===n&&d.updateCurrZoomItem());c.imageAppended?!Ua&&c.placeholder&&(c.placeholder.style.display="none",c.placeholder=null):u.transform&&(I||Ua)?Na.push({item:c,
baseDiv:e,img:c.img,index:b,holder:a}):xb(b,c,e,c.img,I||Ua)}c.loadComplete=null;c.img=null;t("imageLoadComplete",b,c)}},h.features.transform){var k=h.createEl("pswp__img pswp__img--placeholder"+(c.msrc?"":" pswp__img--placeholder--blank"),c.msrc?"img":"");c.msrc&&(k.src=c.msrc);k.style.width=c.w+"px";k.style.height=c.h+"px";e.appendChild(k);c.placeholder=k}c.loading||ic(c);d.allowProgressiveImg()&&(!Ob&&u.transform?Na.push({item:c,baseDiv:e,img:c.img,index:b,holder:a}):xb(b,c,e,c.img,!0,!0))}fb(c,
J);Ob||b!==n?db(c):(ia=e.style,$b(c,f||c.img));a.el.innerHTML="";a.el.appendChild(e)},cleanSlide:function(a){a.img&&(a.img.onload=a.img.onerror=null);a.loaded=a.loading=a.img=a.imageAppended=!1}}});var wa,yb={},Pb=function(a,b,c){var f=document.createEvent("CustomEvent");f.initCustomEvent("pswpTap",!0,!0,{origEvent:a,target:a.target,releasePoint:b,pointerType:c||"touch"});a.target.dispatchEvent(f)};bb("Tap",{publicMethods:{initTap:function(){w("firstTouchStart",d.onTapStart);w("touchRelease",d.onTapRelease);
w("destroy",function(){yb={};wa=null})},onTapStart:function(a){1<a.length&&(clearTimeout(wa),wa=null)},onTapRelease:function(a,b){if(b&&!Qa&&!Ab&&!gb){if(wa&&(clearTimeout(wa),wa=null,25>Math.abs(b.x-yb.x)&&25>Math.abs(b.y-yb.y)))return void t("doubleTap",b);if("mouse"===b.type)return void Pb(a,b,"mouse");if("BUTTON"===a.target.tagName.toUpperCase()||h.hasClass(a.target,"pswp__single-tap"))return void Pb(a,b);K(yb,b);wa=setTimeout(function(){Pb(a,b);wa=null},300)}}}});var ca;bb("DesktopZoom",{publicMethods:{initDesktopZoom:function(){qa||
(H?w("mouseUsed",function(){d.setupDesktopZoom()}):d.setupDesktopZoom(!0))},setupDesktopZoom:function(a){ca={};w("bindEvents",function(){h.bind(e,"wheel mousewheel DOMMouseScroll",d.handleMouseWheel)});w("unbindEvents",function(){ca&&h.unbind(e,"wheel mousewheel DOMMouseScroll",d.handleMouseWheel)});d.mouseZoomedIn=!1;var b,c=function(){d.mouseZoomedIn&&(h.removeClass(e,"pswp--zoomed-in"),d.mouseZoomedIn=!1);1>l?h.addClass(e,"pswp--zoom-allowed"):h.removeClass(e,"pswp--zoom-allowed");f()},f=function(){b&&
(h.removeClass(e,"pswp--dragging"),b=!1)};w("resize",c);w("afterChange",c);w("pointerDown",function(){d.mouseZoomedIn&&(b=!0,h.addClass(e,"pswp--dragging"))});w("pointerUp",f);a||c()},handleMouseWheel:function(a){if(l<=d.currItem.fitRatio)return m.closeOnScroll||a.preventDefault(),!0;if(a.preventDefault(),a.stopPropagation(),ca.x=0,"deltaX"in a)ca.x=a.deltaX,ca.y=a.deltaY;else if("wheelDelta"in a)a.wheelDeltaX&&(ca.x=-.16*a.wheelDeltaX),ca.y=a.wheelDeltaY?-.16*a.wheelDeltaY:-.16*a.wheelDelta;else{if(!("detail"in
a))return;ca.y=a.detail}Gb(l,!0);d.panTo(p.x-ca.x,p.y-ca.y)},toggleDesktopZoom:function(a){a=a||{x:J.x/2,y:J.y/2+Ba};var b=m.getDoubleTapZoom(!0,d.currItem),c=l===b;d.mouseZoomedIn=!c;d.zoomTo(c?d.currItem.initialZoomLevel:b,a,333);h[(c?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var mb,lc,Oa,zb,Qb,mc,F,Ya,Rb,Sb,V,Tb,Cc={history:!0,galleryUID:1},nc=function(){var a=V.hash.substring(1),b={};if(5>a.length)return b;a=a.split("&");for(var c=0;c<a.length;c++)if(a[c]){var f=a[c].split("=");2>f.length||
(b[f[0]]=f[1])}return b.pid=parseInt(b.pid,10)-1,0>b.pid&&(b.pid=0),b},Ub=function(){if(Oa&&clearTimeout(Oa),gb||fa)return void(Oa=setTimeout(Ub,500));zb?clearTimeout(lc):zb=!0;var a=F+"&gid="+m.galleryUID+"&pid="+(n+1);Ya||-1===V.hash.indexOf(a)&&(Sb=!0);var b=V.href.split("#")[0]+"#"+a;Tb?"#"+a!==window.location.hash&&history[Ya?"replaceState":"pushState"]("",document.title,b):Ya?V.replace(b):V.hash=a;Ya=!0;lc=setTimeout(function(){zb=!1},60)};bb("History",{publicMethods:{initHistory:function(){if(h.extend(m,
Cc,!0),m.history){V=window.location;Ya=Rb=Sb=!1;F=V.hash.substring(1);Tb="pushState"in history;-1<F.indexOf("gid=")&&(F=F.split("&gid=")[0],F=F.split("?gid=")[0]);w("afterChange",d.updateURL);w("unbindEvents",function(){h.unbind(window,"hashchange",d.onHashChange)});var a=function(){mc=!0;Rb||(Sb?history.back():F?V.hash=F:Tb?history.pushState("",document.title,V.pathname+V.search):V.hash="");mb&&clearTimeout(mb);Oa&&clearTimeout(Oa)};w("unbindEvents",function(){Pa&&a()});w("destroy",function(){mc||
a()});w("firstUpdate",function(){n=nc().pid});var b=F.indexOf("pid=");-1<b&&(F=F.substring(0,b),"&"===F.slice(-1)&&(F=F.slice(0,-1)));setTimeout(function(){Y&&h.bind(window,"hashchange",d.onHashChange)},40)}},onHashChange:function(){return V.hash.substring(1)===F?(Rb=!0,void d.close()):void(zb||(Qb=!0,d.goTo(nc().pid),Qb=!1))},updateURL:function(){mb&&clearTimeout(mb);Oa&&clearTimeout(Oa);Qb||(Ya?mb=setTimeout(Ub,800):Ub())}}});h.extend(d,sc)}});
!function(e,k){"function"==typeof define&&define.amd?define(k):"object"==typeof exports?module.exports=k():e.PhotoSwipeUI_Default=k()}(this,function(){return function(e,k){var A,x,h,d,m,Y,N,Pa,n,z,O,ka,xa,B,l,P,la,ma,q=this,ya=!1,Q=!0,G=!0,y={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4E3,timeToIdleOutside:1E3,loadingIndicatorDelay:1E3,addCaptionHTMLFn:function(f,d){return f.title?(d.children[0].innerHTML=f.title,!0):(d.children[0].innerHTML=
"",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},
{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / "},Za=function(f){if(P)return!0;f=f||window.event;l.timeToIdle&&l.mouseUsed&&!n&&Aa();for(var d,e,h=(f.target||f.srcElement).className,m=0;m<ea.length;m++)d=ea[m],d.onTap&&-1<h.indexOf("pswp__"+d.name)&&(d.onTap(),e=!0);e&&(f.stopPropagation&&
f.stopPropagation(),P=!0,setTimeout(function(){P=!1},k.features.isOldAndroid?600:30))},R=function(f,d,e){k[(e?"add":"remove")+"Class"](f,"pswp__"+d)},za=function(){var f=1===l.getNumItemsFn();f!==B&&(R(x,"ui--one-slide",f),B=f)},na=function(){R(N,"share-modal--hidden",G)},Z=function(){return G=!G,G?(k.removeClass(N,"pswp__share-modal--fade-in"),setTimeout(function(){G&&na()},300)):(na(),setTimeout(function(){G||k.addClass(N,"pswp__share-modal--fade-in")},30)),G||da(),!1},oa=function(f){f=f||window.event;
var d=f.target||f.srcElement;return e.shout("shareLinkClick",f,d),d.href?d.hasAttribute("download")?!0:(window.open(d.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),G||Z(),!1):!1},da=function(){for(var f,d,e,h,k="",m=0;m<l.shareButtons.length;m++)f=l.shareButtons[m],d=l.getImageURLForShare(f),e=l.getPageURLForShare(f),h=l.getTextForShare(f),d=f.url.replace("{{url}}",encodeURIComponent(e)).replace("{{image_url}}",
encodeURIComponent(d)).replace("{{raw_image_url}}",d).replace("{{text}}",encodeURIComponent(h)),k+='<a href="'+d+'" target="_blank" class="pswp__share--'+f.id+'"'+(f.download?"download":"")+">"+f.label+"</a>",l.parseShareButtonOut&&(k=l.parseShareButtonOut(f,k));N.children[0].innerHTML=k;N.children[0].onclick=oa},H=function(d){for(var f=0;f<l.closeElClasses.length;f++)if(k.hasClass(d,"pswp__"+l.closeElClasses[f]))return!0},pa=0,Aa=function(){clearTimeout(ma);pa=0;n&&q.setIdle(!1)},$a=function(d){d=
d?d:window.event;(d=d.relatedTarget||d.toElement)&&"HTML"!==d.nodeName||(clearTimeout(ma),ma=setTimeout(function(){q.setIdle(!0)},l.timeToIdleOutside))},Ba=function(){l.preloaderEl&&(qa(!0),z("beforeChange",function(){clearTimeout(xa);xa=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&qa(!1):qa(!0)},l.loadingIndicatorDelay)}),z("imageLoadComplete",function(d,k){e.currItem===k&&qa(!0)}))},qa=function(d){ka!==d&&(R(O,"preloader--active",
!d),ka=d)},Ca=function(f){var m=f.vGap;if(!e.likelyTouchDevice||l.mouseUsed||1200<screen.width){var n=l.barsSize;l.captionEl&&"auto"===n.bottom?(d||(d=k.createEl("pswp__caption pswp__caption--fake"),d.appendChild(k.createEl("pswp__caption__center")),x.insertBefore(d,h),k.addClass(x,"pswp__ui--fit")),l.addCaptionHTMLFn(f,d,!0))?m.bottom=parseInt(d.clientHeight,10)||44:m.bottom=n.top:m.bottom=n.bottom;m.top=n.top}else m.top=m.bottom=0},u=function(){l.timeToIdle&&z("mouseUsed",function(){k.bind(document,
"mousemove",Aa);k.bind(document,"mouseout",$a);la=setInterval(function(){pa++;2===pa&&q.setIdle(!0)},l.timeToIdle/2)})},nb=function(){z("onVerticalDrag",function(d){Q&&.95>d?q.hideControls():!Q&&.95<=d&&q.showControls()});var d;z("onPinchClose",function(f){Q&&.9>f?(q.hideControls(),d=!0):d&&!Q&&.9<f&&q.showControls()});z("zoomGestureEnded",function(){d=!1})},ea=[{name:"caption",option:"captionEl",onInit:function(d){h=d}},{name:"share-modal",option:"shareEl",onInit:function(d){N=d},onTap:function(){Z()}},
{name:"button--share",option:"shareEl",onInit:function(d){Y=d},onTap:function(){Z()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(d){m=d}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){A.isFullscreen()?A.exit():A.enter()}},{name:"preloader",option:"preloaderEl",
onInit:function(d){O=d}}],Da=function(){var d,e,h,m=function(f){if(f)for(var m=f.length,n=0;m>n;n++){d=f[n];e=d.className;for(var q=0;q<ea.length;q++)h=ea[q],-1<e.indexOf("pswp__"+h.name)&&(l[h.option]?(k.removeClass(d,"pswp__element--disabled"),h.onInit&&h.onInit(d)):k.addClass(d,"pswp__element--disabled"))}};m(x.children);var n=k.getChildByClass(x,"pswp__top-bar");n&&m(n.children)};q.init=function(){k.extend(e.options,y,!0);l=e.options;x=k.getChildByClass(e.scrollWrap,"pswp__ui");z=e.listen;nb();
z("beforeChange",q.update);z("doubleTap",function(d){var f=e.currItem.initialZoomLevel;e.getZoomLevel()!==f?e.zoomTo(f,d,333):e.zoomTo(l.getDoubleTapZoom(!1,e.currItem),d,333)});z("preventDragEvent",function(d,e,h){(e=d.target||d.srcElement)&&e.className&&-1<d.type.indexOf("mouse")&&(0<e.className.indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(e.tagName))&&(h.prevent=!1)});z("bindEvents",function(){k.bind(x,"pswpTap click",Za);k.bind(e.scrollWrap,"pswpTap",q.onGlobalTap);e.likelyTouchDevice||k.bind(e.scrollWrap,
"mouseover",q.onMouseOver)});z("unbindEvents",function(){G||Z();la&&clearInterval(la);k.unbind(document,"mouseout",$a);k.unbind(document,"mousemove",Aa);k.unbind(x,"pswpTap click",Za);k.unbind(e.scrollWrap,"pswpTap",q.onGlobalTap);k.unbind(e.scrollWrap,"mouseover",q.onMouseOver);A&&(k.unbind(document,A.eventK,q.updateFullscreen),A.isFullscreen()&&(l.hideAnimationDuration=0,A.exit()),A=null)});z("destroy",function(){l.captionEl&&(d&&x.removeChild(d),k.removeClass(h,"pswp__caption--empty"));N&&(N.children[0].onclick=
null);k.removeClass(x,"pswp__ui--over-close");k.addClass(x,"pswp__ui--hidden");q.setIdle(!1)});l.showAnimationDuration||k.removeClass(x,"pswp__ui--hidden");z("initialZoomIn",function(){l.showAnimationDuration&&k.removeClass(x,"pswp__ui--hidden")});z("initialZoomOut",function(){k.addClass(x,"pswp__ui--hidden")});z("parseVerticalMargin",Ca);Da();l.shareEl&&Y&&N&&(G=!0);za();u();l.fullscreenEl&&(A||(A=q.getFullscreenAPI()),A?(k.bind(document,A.eventK,q.updateFullscreen),q.updateFullscreen(),k.addClass(e.template,
"pswp--supports-fs")):k.removeClass(e.template,"pswp--supports-fs"));Ba()};q.setIdle=function(d){n=d;R(x,"ui--idle",d)};q.update=function(){Q&&e.currItem?(q.updateIndexIndicator(),l.captionEl&&(l.addCaptionHTMLFn(e.currItem,h),R(h,"caption--empty",!e.currItem.title)),ya=!0):ya=!1;G||Z();za()};q.updateFullscreen=function(){R(e.template,"fs",A.isFullscreen())};q.updateIndexIndicator=function(){l.counterEl&&(m.innerHTML=e.getCurrentIndex()+1+l.indexIndicatorSep+l.getNumItemsFn())};q.onGlobalTap=function(d){d=
d||window.event;var f=d.target||d.srcElement;if(!P)if(d.detail&&"mouse"===d.detail.pointerType){if(H(f))return void e.close();k.hasClass(f,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?l.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(d.detail.releasePoint))}else if(l.tapToToggleControls&&(Q?q.hideControls():q.showControls()),l.tapToClose&&(k.hasClass(f,"pswp__img")||H(f)))return void e.close()};q.onMouseOver=function(d){d=d||window.event;R(x,"ui--over-close",H(d.target||
d.srcElement))};q.hideControls=function(){k.addClass(x,"pswp__ui--hidden");Q=!1};q.showControls=function(){Q=!0;ya||q.update();k.removeClass(x,"pswp__ui--hidden")};q.supportsFullscreen=function(){var d=document;return!!(d.exitFullscreen||d.mozCancelFullScreen||d.webkitExitFullscreen||d.msExitFullscreen)};q.getFullscreenAPI=function(){var d,h=document.documentElement;return h.requestFullscreen?d={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:"fullscreenchange"}:
h.mozRequestFullScreen?d={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"mozfullscreenchange"}:h.webkitRequestFullscreen?d={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkitfullscreenchange"}:h.msRequestFullscreen&&(d={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),d&&(d.enter=function(){return Pa=l.closeOnScroll,l.closeOnScroll=
!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},d.exit=function(){return l.closeOnScroll=Pa,document[this.exitK]()},d.isFullscreen=function(){return document[this.elementK]}),d}}});
(function(e){Drupal.googleanalytics={};e(document).ready(function(){e(document.body).bind("mousedown keyup touchstart",function(k){e(k.target).closest("a,area").each(function(){Drupal.googleanalytics.isInternal(this.href)?e(this).is(".colorbox")&&Drupal.settings.googleanalytics.trackColorbox||(Drupal.settings.googleanalytics.trackDownload&&Drupal.googleanalytics.isDownload(this.href)?ga("send",{hitType:"event",eventCategory:"Downloads",eventAction:Drupal.googleanalytics.getDownloadExtension(this.href).toUpperCase(),
eventLabel:Drupal.googleanalytics.getPageUrl(this.href),transport:"beacon"}):Drupal.googleanalytics.isInternalSpecial(this.href)&&ga("send",{hitType:"pageview",page:Drupal.googleanalytics.getPageUrl(this.href),transport:"beacon"})):Drupal.settings.googleanalytics.trackMailto&&e(this).is("a[href^='mailto:'],area[href^='mailto:']")?ga("send",{hitType:"event",eventCategory:"Mails",eventAction:"Click",eventLabel:this.href.substring(7),transport:"beacon"}):Drupal.settings.googleanalytics.trackOutbound&&
this.href.match(/^\w+:\/\//i)&&(2!==Drupal.settings.googleanalytics.trackDomainMode||2===Drupal.settings.googleanalytics.trackDomainMode&&!Drupal.googleanalytics.isCrossDomain(this.hostname,Drupal.settings.googleanalytics.trackCrossDomains))&&ga("send",{hitType:"event",eventCategory:"Outbound links",eventAction:"Click",eventLabel:this.href,transport:"beacon"})})});Drupal.settings.googleanalytics.trackUrlFragments&&(window.onhashchange=function(){ga("send",{hitType:"pageview",page:location.pathname+
location.search+location.hash})});Drupal.settings.googleanalytics.trackColorbox&&e(document).bind("cbox_complete",function(){var k=e.colorbox.element().attr("href");k&&ga("send",{hitType:"pageview",page:Drupal.googleanalytics.getPageUrl(k)})})});Drupal.googleanalytics.isCrossDomain=function(k,A){return A?-1<e.inArray(k,A)?!0:!1:!1};Drupal.googleanalytics.isDownload=function(e){return(new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([?#].*)?$","i")).test(e)};Drupal.googleanalytics.isInternal=
function(e){return(new RegExp("^(https?)://"+window.location.host,"i")).test(e)};Drupal.googleanalytics.isInternalSpecial=function(e){return/(\/go\/.*)$/i.test(e)};Drupal.googleanalytics.getPageUrl=function(e){return e.replace(new RegExp("^(https?)://"+window.location.host,"i"),"")};Drupal.googleanalytics.getDownloadExtension=function(e){e=(new RegExp("\\.("+Drupal.settings.googleanalytics.trackDownloadExtensions+")([?#].*)?$","i")).exec(e);return null===e?"":e[1]}})(jQuery);